<!--
  Generated template for the UserinfoPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar>
    <ion-title>{{title}}</ion-title>
    <button ion-button clear (click)="closeModal()">
        Close
    </button>
  </ion-navbar>

</ion-header>


<ion-content>
  <ion-row class="userInfoWrapper">
    <img [src]=photo.facePhotoLocation class="userPhoto">
    <div class="userInfo">
      <h5 class="userName">{{personal.firstName}} {{personal.lastName}}</h5>
      <div class="driverId">{{personal.id}}</div>
    </div>
  </ion-row>

  <ion-row padding>
    <ion-item>
      <ion-label color="labelLight" stacked [hidden]="!phone.valid">Phone Number</ion-label>
      <ion-input type="tel" #phone="ngModel" required id="phone" name="phone" [(ngModel)]="personal.phone" placeholder="Phone Number"></ion-input>
    </ion-item>
    <ion-item>
      <ion-label color="labelLight" stacked [hidden]="!email.valid">Email Address</ion-label>
      <ion-input type="email"  #email="ngModel" required id="email" name="email" [(ngModel)]="personal.email"  placeholder="Email Address"></ion-input>
    </ion-item>
    <ion-item>
      <ion-label color="labelLight" stacked [hidden]="!password.valid">Change Password</ion-label>
      <ion-input type="password" #password="ngModel" required validateEqual="confirm" reverse="true" id="password" name="password" [(ngModel)]="personal.password" placeholder="Change Password"></ion-input>
    </ion-item>
  </ion-row>

  <ion-row padding *ngIf="userType==1">
    <ion-item>
      <ion-label>Choose Year</ion-label>
      <ion-select #caryear="ngModel" required id="caryear" name="caryear" [(ngModel)]="carInfo.carYear" (ionChange)="getBrand()">
        <ion-option *ngFor="let year of years" [value]="year" [selected]="year == carInfo.carYear">{{year}}</ion-option>
      </ion-select>
    </ion-item>
    <ion-item>
      <ion-label>Choose Brand</ion-label>
      <ion-select #carbrand="ngModel" required id="carbrand" name="carbrand" [(ngModel)]="carInfo.carBrand" (ionChange)="getModel()">
        <ion-option *ngFor="let brand of brands" [value]="brand" [selected]="brand == carInfo.carBrand">{{brand}}</ion-option>
      </ion-select>
    </ion-item>
    <ion-item>
      <ion-label>Choose Model</ion-label>
      <ion-select #carmodel="ngModel" required id="carmodel" name="carmodel" [(ngModel)]="carInfo.carModel" (ionChange)="getTrim()">
        <ion-option *ngFor="let model of models" [value]="model" [selected]="model == carInfo.carModel">{{model}}</ion-option>
      </ion-select>
    </ion-item>
    <ion-item>
      <ion-label>Choose Trim</ion-label>
      <ion-select #cartrim="ngModel" required id="cartrim" name="cartrim" [(ngModel)]="carInfo.carTrim">
        <ion-option *ngFor="let trim of trims" [value]="trim" [selected]="trim == carInfo.carTrim">{{trim}}</ion-option>
      </ion-select>
    </ion-item>
    <ion-item>
      <ion-label color="labelLight" stacked [hidden]="!carcolor.valid">Color</ion-label>
      <ion-input type="text" #carcolor="ngModel" required id="carcolor" name="carcolor" [(ngModel)]="carInfo.carColor" placeholder="Enter a car color"></ion-input>
    </ion-item>
  </ion-row>

  <ion-row padding *ngIf="userType==1">
    <ion-list radio-group #cartransmittion="ngModel" id="cartransmittion" name="cartransmittion" [(ngModel)]="carInfo.carTransmittion">
      <ion-label color="labelLight" stacked>Transmittion Type</ion-label>
      <ion-item>
        <ion-label>Automatic</ion-label>
        <ion-radio checked value="automatic"></ion-radio>
      </ion-item>
      <ion-item>
        <ion-label>Manual</ion-label>
        <ion-radio value="manual"></ion-radio>
      </ion-item>
    </ion-list>
  </ion-row>

  <ion-row padding *ngIf="userType==2">
    <ion-label color="labelLight" stacked>Type of Car</ion-label>
    <ion-item>
      <ion-label>Sedan</ion-label>
      <ion-checkbox [(ngModel)]="driver.availCarTypeSedan" (click)='validationCheck()'></ion-checkbox>
    </ion-item>
    <ion-item>
      <ion-label>SUV</ion-label>
      <ion-checkbox [(ngModel)]="driver.availCarTypeSuv" (click)='validationCheck()'></ion-checkbox>
    </ion-item>
    <ion-item>
      <ion-label>Van</ion-label>
      <ion-checkbox [(ngModel)]="driver.availCarTypeVan" (click)='validationCheck()'></ion-checkbox>
    </ion-item>
  </ion-row>

  <ion-row padding *ngIf="userType==2">
    <ion-label color="labelLight" stacked>Type of Transmission</ion-label>
    <ion-item>
      <ion-label>Automatic</ion-label>
      <ion-checkbox [(ngModel)]="driver.availCarTransmissionAuto" (click)='validationCheck()'></ion-checkbox>
    </ion-item>
    <ion-item>
      <ion-label>Manual</ion-label>
      <ion-checkbox [(ngModel)]="driver.availCarTransmissionManual" (click)='validationCheck()'></ion-checkbox>
    </ion-item>
  </ion-row>

  <ion-row padding *ngIf="userType==2">
    <h5>Bank Account</h5>
    <ion-item>
      <ion-label color="labelLight" stacked [hidden]="!bankroutingnumber.valid">Routing Number</ion-label>
      <ion-input type="text" placeholder="Enter a Bank Routing Number" #bankroutingnumber="ngModel" required id="bankroutingnumber" name="bankroutingnumber" [(ngModel)]="bank.bankRoutingNumber"></ion-input>
    </ion-item>
    <ion-item>
    <ion-label color="labelLight" stacked [hidden]="!bankaccountnumber.valid">Account Number</ion-label>
    <ion-input type="text" placeholder="Enter a Bank Account Number" #bankaccountnumber="ngModel" required id="bankaccountnumber" name="bankaccountnumber" [(ngModel)]="bank.bankAccountNumber"></ion-input>
  </ion-item>
  </ion-row>

  <ion-row padding>
    <button ion-button (click)="updateInfo()">Update</button>
  </ion-row>

</ion-content>
